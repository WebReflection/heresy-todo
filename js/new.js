!function(){"use strict";var e=(...e)=>e,t=function(e,t){return(t=n.prototype).ELEMENT_NODE=1,t.nodeType=111,t.remove=function(e){var t=this.childNodes,n=this.firstChild,r=this.lastChild;if(this._=null,e&&2===t.length)r.parentNode.removeChild(r);else{var s=this.ownerDocument.createRange();s.setStartBefore(e?t[1]:n),s.setEndAfter(r),s.deleteContents()}return n},t.valueOf=function(e){var t=this._,n=null==t;if(n&&(t=this._=this.ownerDocument.createDocumentFragment()),n||e)for(var r=this.childNodes,s=0,o=r.length;s<o;s++)t.appendChild(r[s]);return t},n;function n(t){var n=this.childNodes=e.call(t,0);this.firstChild=n[0],this.lastChild=n[n.length-1],this.ownerDocument=n[0].ownerDocument,this._=null}}([].slice);const{isArray:n}=Array,r=t.prototype.nodeType,s=e=>document.createElementNS("http://www.w3.org/1999/xhtml",e),o=(e,t)=>("svg"===t?c:a)(e),a=e=>{const t=s("template");return t.innerHTML=e,t.content},c=e=>{const{content:t}=s("template"),n=s("div");n.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e+"</svg>";const{childNodes:r}=n.firstChild;let{length:o}=r;for(;o--;)t.appendChild(r[0]);return t},i=(e,t,n,r,s,o)=>{if(s-r<2)t.insertBefore(e(n[r],1),o);else{const a=t.ownerDocument.createDocumentFragment();for(;r<s;)a.appendChild(e(n[r++],1));t.insertBefore(a,o)}},l=(e,t)=>e==t,u=e=>e,h=(e,t,n,r,s,o,a)=>{const c=o-s;if(c<1)return-1;for(;n-t>=c;){let c=t,i=s;for(;c<n&&i<o&&a(e[c],r[i]);)c++,i++;if(i===o)return t;t=c+1}return-1},d=(e,t,n,r,s)=>n<r?e(t[n],0):0<n?e(t[n-1],-0).nextSibling:s,f=(e,t,n,r,s)=>{if(s-r<2)t.removeChild(e(n[r],-1));else{const o=t.ownerDocument.createRange();o.setStartBefore(e(n[r],-1)),o.setEndAfter(e(n[s-1],-1)),o.deleteContents()}},p=(e,t,n)=>{let r=1,s=t;for(;r<s;){const t=(r+s)/2>>>0;n<e[t]?s=t:r=t+1}return r},m=(e,t,n,r,s,o,a,c,l,u,h,d,m)=>{((e,t,n,r,s,o,a,c,l)=>{const u=new Map,h=e.length;let d=a,p=0;for(;p<h;)switch(e[p++]){case 0:s++,d++;break;case 1:u.set(r[s],1),i(t,n,r,s++,s,d<c?t(o[d],0):l);break;case-1:d++}for(p=0;p<h;)switch(e[p++]){case 0:a++;break;case-1:u.has(o[a])?a++:f(t,n,o,a++,a)}})(((e,t,n,r,s,o,a)=>{const c=n+o,i=[];let l,u,h,d,f,p,m;e:for(l=0;l<=c;l++){if(l>50)return null;for(m=l-1,f=l?i[l-1]:[0,0],p=i[l]=[],u=-l;u<=l;u+=2){for(h=(d=u===-l||u!==l&&f[m+u-1]<f[m+u+1]?f[m+u+1]:f[m+u-1]+1)-u;d<o&&h<n&&a(r[s+d],e[t+h]);)d++,h++;if(d===o&&h===n)break e;p[l+u]=d}}const g=Array(l/2+c/2);let v=g.length-1;for(l=i.length-1;l>=0;l--){for(;d>0&&h>0&&a(r[s+d-1],e[t+h-1]);)g[v--]=0,d--,h--;if(!l)break;m=l-1,f=l?i[l-1]:[0,0],(u=d-h)==-l||u!==l&&f[m+u-1]<f[m+u+1]?(h--,g[v--]=1):(d--,g[v--]=-1)}return g})(n,r,o,a,c,u,d)||((e,t,n,r,s,o,a,c)=>{let i=0,l=r<c?r:c;const u=Array(l++),h=Array(l);h[0]=-1;for(let e=1;e<l;e++)h[e]=a;const d=new Map;for(let e=o;e<a;e++)d.set(s[e],e);for(let r=t;r<n;r++){const t=d.get(e[r]);null!=t&&-1<(i=p(h,l,t))&&(h[i]=t,u[i]={newi:r,oldi:t,prev:u[i-1]})}for(i=--l,--a;h[i]>a;)--i;l=c+r-i;const f=Array(l);let m=u[i];for(--n;m;){const{newi:e,oldi:t}=m;for(;n>e;)f[--l]=1,--n;for(;a>t;)f[--l]=-1,--a;f[--l]=0,--n,--a,m=m.prev}for(;n>=t;)f[--l]=1,--n;for(;a>=o;)f[--l]=-1,--a;return f})(n,r,s,o,a,c,l,u),e,t,n,r,a,c,h,m)},g=(e,t,n,r)=>{r||(r={});const s=r.compare||l,o=r.node||u,a=null==r.before?null:o(r.before,0),c=t.length;let p=c,g=0,v=n.length,b=0;for(;g<p&&b<v&&s(t[g],n[b]);)g++,b++;for(;g<p&&b<v&&s(t[p-1],n[v-1]);)p--,v--;const y=g===p,w=b===v;if(y&&w)return n;if(y&&b<v)return i(o,e,n,b,v,d(o,t,g,c,a)),n;if(w&&g<p)return f(o,e,t,g,p),n;const k=p-g,E=v-b;let x=-1;if(k<E){if(-1<(x=h(n,b,v,t,g,p,s)))return i(o,e,n,b,x,o(t[g],0)),i(o,e,n,x+k,v,d(o,t,p,c,a)),n}else if(E<k&&-1<(x=h(t,g,p,n,b,v,s)))return f(o,e,t,g,x),f(o,e,t,x+E,p),n;return k<2||E<2?(i(o,e,n,b,v,o(t[g],0)),f(o,e,t,g,p),n):k===E&&((e,t,n,r,s,o)=>{for(;r<s&&o(n[r],e[t-1]);)r++,t--;return 0===t})(n,v,t,g,p,s)?(i(o,e,n,b,v,d(o,t,p,c,a)),n):(m(o,e,n,b,v,E,t,g,p,k,c,s,a),n)};var v,b=document.importNode,y="".trim,w="-"+Math.random().toFixed(6)+"%";try{"content"in(v=document.createElement("template"))&&(v.innerHTML='<p tabindex="'+w+'"></p>',v.content.childNodes[0].getAttribute("tabindex")==w)||(w="_dt: "+w.slice(1,-1)+";")}catch(e){}var k="\x3c!--"+w+"--\x3e",E=8,x=1,N=3,$=/^(?:style|textarea)$/i,C=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i;var A=" \\f\\n\\r\\t",L="[^"+A+"\\/>\"'=]+",j="["+A+"]+"+L,T="<([A-Za-z]+[A-Za-z0-9:_-]*)((?:",M="(?:\\s*=\\s*(?:'[^']*?'|\"[^\"]*?\"|<[^>]*?>|"+L.replace("\\/","")+"))?)",S=new RegExp(T+j+M+"+)(["+A+"]*/?>)","g"),O=new RegExp(T+j+M+"*)(["+A+"]*/>)","g"),W=new RegExp("("+j+"\\s*=\\s*)(['\"]?)"+k+"\\2","gi");function D(e,t,n,r){return"<"+t+n.replace(W,H)+r}function H(e,t,n){return t+(n||'"')+w+(n||'"')}function Z(e,t,n){return C.test(t)?e:"<"+t+n+"></"+t+">"}function _(e,t,n,r){return{name:r,node:t,path:n,type:e}}function z(e,t){for(var n=t.length,r=0;r<n;)e=e.childNodes[t[r++]];return e}function R(e,t,n,r){for(var s=new Map,o=e.attributes,a=[],c=a.slice.call(o,0),i=c.length,l=0;l<i;){var u=c[l++];if(u.value===w){var h=u.name;if(!s.has(h)){var d=n.shift().replace(/^(?:|[\S\s]*?\s)(\S+?)\s*=\s*['"]?$/,"$1"),f=o[d]||o[d.toLowerCase()];s.set(h,f),t.push(_("attr",f,r,d))}a.push(u)}}for(i=a.length,l=0;l<i;){var p=a[l++];/^id$/i.test(p.name)?e.removeAttribute(p.name):e.removeAttributeNode(p)}var m=e.nodeName;if(/^script$/i.test(m)){var g=document.createElement(m);for(i=o.length,l=0;l<i;)g.setAttributeNode(o[l++].cloneNode(!0));g.textContent=e.textContent,e.parentNode.replaceChild(g,e)}}var V=new WeakMap,B=new WeakMap;function F(e,t){var n=function(e){return e.join(k).replace(O,Z).replace(S,D)}(t),r=e.transform;r&&(n=r(n));var s=o(n,e.type);!function(e){var t=e.childNodes,n=t.length;for(;n--;){var r=t[n];1!==r.nodeType&&0===y.call(r.textContent).length&&e.removeChild(r)}}(s);var a=[];!function e(t,n,r,s){for(var o=t.childNodes,a=o.length,c=0;c<a;){var i=o[c];switch(i.nodeType){case x:var l=s.concat(c);R(i,n,r,l),e(i,n,r,l);break;case E:var u=i.textContent;if(u===w)r.shift(),n.push($.test(t.nodeName)?_("text",t,s):_("any",i,s.concat(c)));else switch(u.slice(0,2)){case"/*":if("*/"!==u.slice(-2))break;case"ðŸ‘»":t.removeChild(i),c--,a--}break;case N:$.test(t.nodeName)&&y.call(i.textContent)===k&&(r.shift(),n.push(_("text",t,s)))}c++}}(s,a,t.slice(0),[]);var c={content:s,updates:function(n){for(var r=[],s=a.length,o=0;o<s;){var c=a[o++],i=z(n,c.path);switch(c.type){case"any":r.push(e.any(i,[]));break;case"attr":r.push(e.attribute(i,c.name,c.node));break;case"text":r.push(e.text(i)),i.textContent=""}}return function(){var e=arguments.length,o=e-1,a=1;if(s!==o)throw new Error(o+" values instead of "+s+"\n"+t.join(", "));for(;a<e;)r[a-1](arguments[a++]);return n}}};return V.set(t,c),c}function G(e){return function(t){var n=B.get(e);return null!=n&&n.template===t||(n=function(e,t){var n=V.get(t)||F(e,t),r=b.call(document,n.content,!0),s={content:r,template:t,updates:n.updates(r)};return B.set(e,s),s}(e,t)),n.updates.apply(null,arguments),n.content}}var I=function(){var e=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,t=/([^A-Z])([A-Z]+)/g;return function(e,t){return"ownerSVGElement"in e?function(e,t){var n;t?n=t.cloneNode(!0):(e.setAttribute("style","--hyper:style;"),n=e.getAttributeNode("style"));return n.value="",e.setAttributeNode(n),r(n,!0)}(e,t):r(e.style,!1)};function n(e,t,n){return t+"-"+n.toLowerCase()}function r(r,s){var o,a;return function(c){var i,l,u,h;switch(typeof c){case"object":if(c){if("object"===o){if(!s&&a!==c)for(l in a)l in c||(r[l]="")}else s?r.value="":r.cssText="";for(l in i=s?{}:r,c)u="number"!=typeof(h=c[l])||e.test(l)?h:h+"px",!s&&/^--/.test(l)?i.setProperty(l,u):i[l]=u;o="object",s?r.value=function(e){var r,s=[];for(r in e)s.push(r.replace(t,n),":",e[r],";");return s.join("")}(a=i):a=c;break}default:a!=c&&(o="string",a=c,s?r.value=c||"":r.cssText=c||"")}}}}();const P=(e,t)=>e.nodeType===r?1/t<0?t?e.remove(!0):e.lastChild:t?e.valueOf(!0):e.firstChild:e,q=(e,t)=>{let n,r=!1;const s=t.cloneNode(!0);return t=>{n!==t&&(n=t,s.value!==t&&(null==t?(r&&(r=!1,e.removeAttributeNode(s)),s.value=t):(s.value=t,r||(r=!0,e.setAttributeNode(s)))))}},J=(e,t)=>{let n;return r=>{n!==r&&(n=r,e[t]!==r&&(null==r?(e[t]="",e.removeAttribute(t)):e[t]=r))}},U=/^(?:form|list)$/i,K=[].slice,Q=(e,t)=>e.ownerDocument.createTextNode(t);function X(e){return this.type=e,G(this)}function Y(e){return e(this)}X.prototype={attribute(e,t,n){switch(t){case"class":if("ownerSVGElement"in e)return q(e,n);t="className";case"data":case"props":return J(e,t);case"style":return I(e,n,"ownerSVGElement"in e);case"ref":return(e=>t=>{t.current=e})(e);default:return"."===t.slice(0,1)?((e,t)=>n=>{e[t]=n})(e,t.slice(1)):"on"===t.slice(0,2)?((e,t)=>{let n,r=t.slice(2);return t.toLowerCase()in e&&(r=r.toLowerCase()),t=>{n!==t&&(n&&e.removeEventListener(r,n,!1),n=t,t&&e.addEventListener(r,t,!1))}})(e,t):t in e&&!("ownerSVGElement"in e||U.test(t))?J(e,t):q(e,n)}},any(e,t){const r={node:P,before:e},s="ownerSVGElement"in e?"svg":"html";let a,c=!1;const i=l=>{switch(typeof l){case"string":case"number":case"boolean":c?a!==l&&(a=l,t[0].textContent=l):(c=!0,a=l,t=g(e.parentNode,t,[Q(e,l)],r));break;case"function":i(l(e));break;case"object":case"undefined":if(null==l){c=!1,t=g(e.parentNode,t,[],r);break}default:if(c=!1,a=l,n(l))if(0===l.length)t.length&&(t=g(e.parentNode,t,[],r));else switch(typeof l[0]){case"string":case"number":case"boolean":i(String(l));break;case"function":i(l.map(Y,e));break;case"object":n(l[0])&&(l=l.concat.apply([],l));default:t=g(e.parentNode,t,l,r)}else(e=>"ELEMENT_NODE"in e)(l)?t=g(e.parentNode,t,11===l.nodeType?K.call(l.childNodes):[l],r):"text"in l?i(String(l.text)):"any"in l?i(l.any):"html"in l?t=g(e.parentNode,t,K.call(o([].concat(l.html).join(""),s).childNodes),r):"length"in l&&i(K.call(l))}};return i},text(e){let t;const n=r=>{if(t!==r){t=r;const s=typeof r;"object"===s&&r?"text"in r?n(String(r.text)):"any"in r?n(r.any):"html"in r?n([].concat(r.html).join("")):"length"in r&&n(K.call(r).join("")):"function"===s?n(r(e)):e.textContent=null==r?"":r}};return n}};const ee=new WeakMap,te=new WeakMap;let ne=null;function re(e,t){const n=function(e,t){const n=ne;(ne=ee.get(e)||function(e){const t={i:0,length:0,stack:[],update:!1};return ee.set(e,t),t}(e)).i=0;const r=t.call(this);let s;if(r instanceof ue){s=ae(ie(r,0),ne.update);const{i:e,length:t,stack:n,update:o}=ne;e<t&&n.splice(ne.length=e),o&&(ne.update=!1)}else s=ae(r,!1);return ne=n,s}.call(this,e,t);return te.get(e)!==n&&(te.set(e,n),function(e,t){e.textContent="",e.appendChild(t)}(e,n)),e}const se=ce("html"),oe=ce("svg");function ae(e,t){return e.nodeType===r?e.valueOf(t):e}function ce(t){const n=new WeakMap;return r.for=((r,s)=>{const o=n.get(r)||function(e){const t={$:null};return n.set(e,t),t}(r);return null==s&&(s="$"),o[s]||function(n,r){let s=null;const o=new X(t);return n[r]=function(){const t=o.apply(null,e.apply(null,arguments));return s||(s=le(t))}}(o,s)}),r;function r(){const n=e.apply(null,arguments);return ne?new ue(t,n):new X(t).apply(null,n)}}function ie(e,t){const{i:r,length:s,stack:o}=ne,{type:a,args:c}=e,i=r<s;ne.i++,i||(ne.length=o.push({l:t,kind:a,tag:null,tpl:c[0],wire:null})),function e(t,r,s){for(const{length:o}=t;r<o;r++){const o=t[r];"object"==typeof o&&o&&(o instanceof ue?t[r]=ie(o,s-1):n(o)&&(t[r]=e(o,0,s++)))}return t}(c,1,t+1);const l=o[r];if(i){const{l:e,kind:n,tag:r,tpl:s,wire:o}=l;if(e===t&&a===n&&s===c[0])return r.apply(null,c),o}const u=new X(a),h=le(u.apply(null,c));return l.l=t,l.kind=a,l.tag=u,l.tpl=c[0],l.wire=h,r<1&&(ne.update=!0),h}function le(e){const n=e.childNodes,{length:r}=n;return 1===r?n[0]:r?new t(n):e}function ue(e,t){this.type=e,this.args=t}Object.freeze(ue);var he={};try{he.Event=new Event(".").constructor}catch(e){try{he.Event=new CustomEvent(".").constructor}catch(e){he.Event=function(e,t){t||(t={});var n=document.createEvent("Event"),r=!!t.bubbles,s=!!t.cancelable;n.initEvent(e,r,s);try{n.bubbles=r,n.cancelable=s}catch(n){}return n}}}var de=he.Event,fe={};try{fe.WeakSet=WeakSet}catch(e){!function(e){var t=new e,n=r.prototype;function r(n){t.set(this,new e),n&&n.forEach(this.add,this)}n.add=function(e){return t.get(this).set(e,1),this},n.delete=function(e){return t.get(this).delete(e)},n.has=function(e){return t.get(this).has(e)},fe.WeakSet=r}(WeakMap)}var pe=fe.WeakSet;const{getPrototypeOf:me}=Object,ge="attributeChangedCallback",ve="connectedCallback",be=`dis${ve}`,ye=new pe,we=new WeakMap,ke=(e,t,n)=>{if(n in e){const r=e[n];t[n]={configurable:!0,value(){return Me.call(this),r.call(this)}}}else t[n]={configurable:!0,value:Me}},Ee=e=>{we.set(e,[]);const t={html:{configurable:!0,get:Ae},svg:{configurable:!0,get:Le}};return"handleEvent"in e||(t.handleEvent={configurable:!0,value:Te}),"is"in e||(t.is={configurable:!0,get:je}),"oninit"in e&&(we.get(e).push("init"),ke(e,t,"render")),ke(e,t,ge),ke(e,t,ve),ke(e,t,be),[[ge,"onattributechanged",Se],[ve,"onconnected",Oe],[be,"ondisconnected",De],[ve,"render",We]].forEach(([n,r,s])=>{if(!(n in e)&&r in e)if("on"===r.slice(0,2)&&we.get(e).push(r.slice(2)),n in t){const e=t[n].value;t[n]={configurable:!0,value(){return e.apply(this,arguments),s.apply(this,arguments)}}}else t[n]={configurable:!0,value:s}}),t},xe=(...e)=>new ue("html",e);xe.for=se.for;const Ne=(...e)=>new ue("svg",e);Ne.for=oe.for;const $e=(e,t)=>(...n)=>((e,t)=>re(e,"function"==typeof t?t:()=>t))(e,()=>t(...n));function Ce(e){this.addEventListener(e,this)}function Ae(){return $e(this,xe)}function Le(){return $e(this,Ne)}function je(){return this.getAttribute("is")}function Te(e){this[`on${e.type}`](e)}function Me(){ye.has(this)||(ye.add(this),we.get(me(this)).forEach(Ce,this),this.dispatchEvent(new de("init")))}function Se(e,t,n){const r=new de("attributechanged");r.attributeName=e,r.oldValue=t,r.newValue=n,this.dispatchEvent(r)}function Oe(){this.dispatchEvent(new de("connected"))}function We(){this.render()}function De(){this.dispatchEvent(new de("disconnected"))}const{defineProperties:He}=Object,Ze={};let _e=null;let ze=0;const Re=()=>{const e=ze?"-"+ze:"";return ze++,(t,n)=>{if("function"==typeof t&&(t=(n=t).name+":"+n.tagName),!/^([A-Z][A-Za-z0-9_]*):([A-Za-z0-9-]+)$/.test(t))throw"Unable to retrieve name and tagName";const{$1:r,$2:s}=RegExp,o=function(e,t){return e.replace(/([A-Z])([A-Z][a-z])/g,t="$1"+(t||"-")+"$2").replace(/([a-z])([A-Z])/g,t).toLowerCase()}(r)+e+"-heresy";if(customElements.get(o))throw`Duplicated ${o} definition`;const{prototype:a,style:c}=n;He(a,Ee(a)),customElements.define(o,n,{extends:s}),Ze[r]={tagName:s,is:o},c&&(e=>{const t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e));const n=document.head||document.querySelector("head");n.insertBefore(t,n.lastChild)})(c.call(n,`${s}[is="${o}"]`)),_e||(e=>{const{transform:t}=X.prototype;X.prototype.transform=t?n=>e(t(n)):e})(e=>e.replace(_e,(e,t,n,r)=>{const{tagName:s,is:o}=Ze[n];return t?`</${s}>`:`<${s} is="${o}"${r}`}));const i=Object.keys(Ze).join("|");return _e=new RegExp(`<(/)?(${i})([^A-Za-z0-9_])`,"g"),n}},Ve=He(Re(),{local:{get:Re}}),Be=(e,t)=>e?e[t]||(e[t]={current:null}):{current:null};const Fe=Object.create(null);var Ge=e=>Fe[e]||function(e){return addEventListener("beforeunload",{name:e,handleEvent:Ie},!1),Fe[e]=JSON.parse(localStorage.getItem(e)||"{}")}(e);function Ie(){const{name:e}=this;localStorage.setItem(e,JSON.stringify(Fe[e]))}const Pe=e=>{const t=Ge(e);return t.id||(t.id=0,t.items={}),t},qe=(...e)=>{const t=e.pop();return e.forEach(e=>{const n=new WeakMap;Object.defineProperty(t.prototype,e,{get(){return n.get(this)},set(t){n.set(this,t);const r=`on${e}`;r in this&&this[r]()}})}),t};var Je=qe("value",class extends HTMLLIElement{render(){const{checked:e,text:t}=this.value;this.classList.toggle("completed",e),this.html`
    <div class="view">
      <input
        class="toggle" type="checkbox"
        checked=${e}
      >
      <label>${t}</label>
      <button class="destroy" onclick=${this}></button>
    </div>`}onclick(e){e.stopPropagation(),this.dispatchEvent(new Event("delete"))}onvalue(){this.render()}});Ve.local("Item:li",Je);var Ue=qe("items",class extends HTMLUListElement{render(){const{items:e}=this;this.html`${Object.keys(e).map(t=>xe`<Item ondelete=${this} .value=${e[t]}/>`)}`}ondelete(e){const{items:t}=this,{currentTarget:n}=e,{value:r}=n;Object.keys(t).forEach(e=>{t[e]===r&&(delete t[e],this.render())})}onitems(){this.render()}});Ve.local("List:ul",Ue);var Ke=qe("data",class extends HTMLElement{render(){this.html`
      <input id="toggle-all" class="toggle-all" type="checkbox">
      <label for="toggle-all">Mark all as complete</label>
      <List
        class="todo-list"
        ref=${Be(this,"list")}
        .items=${this.data.items}
      />
    `}ondata(){this.render()}}),Qe=qe("count",class extends HTMLElement{oncount(){this.render()}render(){this.html`
      <span class="todo-count">${this.count}</span>
      <ul class="filters">
        <li>
          <a href="#/" class="selected">All</a>
        </li>
        <li>
          <a href="#/active">Active</a>
        </li>
        <li>
          <a href="#/completed">Completed</a>
        </li>
      </ul>
      <button class="clear-completed">Clear completed</button>
    `}});const{local:Xe}=Ve;Xe("Header:header",class extends HTMLElement{render(){this.html`
      <h1>todos</h1>
      <input class="new-todo" placeholder="What needs to be done?" autofocus>
    `}}),Xe("Main:section",Ke),Xe("Footer:footer",Qe);Ve("Todo:section",class extends HTMLElement{static style(e){return`\n      ${e} ul.completed > li:not(.completed),\n      ${e} ul.active > li.completed {\n        display: none;\n      }\n    `}render(){const e=(t=this.data.items,Object.keys(t).filter(e=>!t[e].checked).length);var t;this.html`
      <Header class="header" ref=${this.header} onchange=${this}/>
      <Main class="main" ref=${this.main} onchange=${this} .data=${this.data}/>
      <Footer class="footer" ref=${this.footer} count=${e} onclick=${this}/>
    `}clearCompleted(){const{items:e}=this.data;Object.keys(e).forEach(t=>{e[t].checked&&delete e[t]})}create(e){const t=++this.data.id;this.data.items[t]={text:e,checked:!1}}toggleAll(e){const{items:t}=this.data;Object.keys(t).forEach(n=>{t[n].checked=e})}oninit(){const e=[this.id||"",this.getAttribute("is")].join(":");this.data=Pe(e),this.header=Be(),this.main=Be(),this.footer=Be()}onchange(e){const{currentTarget:t,target:n}=e;switch(t){case this.header.current:const e=n.value.trim();e&&(r=this.data.items,s=e,!Object.keys(r).some(e=>r[e].text===s))&&(n.value="",this.create(e));break;case this.main.current:if("toggle-all"===n.className)this.toggleAll(n.checked);else{const{value:e}=n.closest("li");e.checked=n.checked}}var r,s;this.render()}onclick(e){const{currentTarget:t,target:n}=e;switch(t){case this.footer.current:if("clear-completed"===n.className)this.clearCompleted();else if(!n.classList.contains("selected")){t.querySelector("a.selected").classList.remove("selected"),n.classList.add("selected");const{list:e}=this.main.current;e.current.classList.remove("active","completed");const r=n.hash.slice(2);r&&e.current.classList.add(r)}}this.render()}})}();
